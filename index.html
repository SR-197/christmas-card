<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>christmas-Post-card</title>
    <link rel="stylesheet" href="./public/css/main.css" />
  </head>
  <body>
    <div class="click">
      <h1>ðŸŽŠ</h1>
      <h3 class="click-btn">click on box below</h3>
      <h1>ðŸŽŠ</h1>
    </div>
    <div class="product">
      <div class="doors num-1"></div>
      <div class="doors num-2"></div>
      <div class="image-2">
        <img
          src="./public/images/wp14381022-christmas-2025-wallpapers.jpg"
          alt=""
        />
      </div>
    </div>
    <div class="audio">
      <audio src="./public/audio/justin_bieber_mistletoe.mp3" controls autoplay loop></audio>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
    <script>
     document.addEventListener("DOMContentLoaded", () => {
  const btnproduct = document.querySelector(".product");

  // Add a click event listener to the `.product` element
  btnproduct.addEventListener("click", () => {
    const duration = 15 * 1000; // Fireworks duration: 15 seconds
    const animationEnd = Date.now() + duration;
    const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 9999 };

    // Function to generate random values within a range
    function randomInRange(min, max) {
      return Math.random() * (max - min) + min;
    }

    // Fire confetti repeatedly during the duration
    const interval = setInterval(() => {
      const timeLeft = animationEnd - Date.now();

      if (timeLeft <= 0) {
        clearInterval(interval); // Stop firing confetti after the duration
        return;
      }

      const particleCount = 50 * (timeLeft / duration); // Gradually reduce particles

      // Fire confetti from multiple locations
      confetti(
        Object.assign({}, defaults, {
          particleCount,
          origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
        })
      );
      confetti(
        Object.assign({}, defaults, {
          particleCount,
          origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
        })
      );
    }, 250);

    // Ensure confetti canvas stays on top
    setTimeout(() => {
      const confettiCanvas = document.querySelector("canvas");
      if (confettiCanvas) {
        confettiCanvas.style.position = "fixed"; // Fix it to the viewport
        confettiCanvas.style.top = "0";
        confettiCanvas.style.left = "0";
        confettiCanvas.style.width = "100%";
        confettiCanvas.style.height = "100%";
        confettiCanvas.style.zIndex = "9999"; // Make sure it appears above all elements
        confettiCanvas.style.pointerEvents = "none"; // Prevent it from blocking clicks
      }
    }, 0);
  });
});
    </script>
  </body>
</html>
